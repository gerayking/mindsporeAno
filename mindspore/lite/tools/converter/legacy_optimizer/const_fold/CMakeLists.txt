set(OP_SRC
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/tensor.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/context.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/runtime/allocator.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/op.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/op_common.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/op_factory.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/op_registry.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/common/op_func_comm.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/common/op_nc4hw4_comm.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/add.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/cast.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/concat.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/fp32/add_fp32.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/fp32/concat_fp32.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/uint8/add_uint8.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/uint8/concat_uint8.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/expand_dim.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/mul.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/range.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/reshape.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/uint8/reshape_uint8.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/rsqrt.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/shape.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/slice.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/stack.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/strided_slice.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/sub.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/tile.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/../../../src/operator/cpu/creator/transpose.cc
        )

add_library(const_fold_mid OBJECT
        ${OP_SRC}
        ${CMAKE_CURRENT_SOURCE_DIR}/const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/add_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/cast_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/concat_v2_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/expand_dims_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/mul_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/range_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/reshape_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/rsqrt_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/shape_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/slice_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/stack_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/strided_slice_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/sub_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/tile_const_fold_pass.cc
        ${CMAKE_CURRENT_SOURCE_DIR}/transpose_const_fold_pass.cc)
